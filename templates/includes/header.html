<!-- Top Navigation -->
<header class="bg-white shadow-sm">
    <div class="flex items-center justify-between px-6 py-4">
        <h2 class="text-xl font-semibold text-gray-800">{{ page_title|default:"Dashboard" }}</h2>

        <!-- User Menu -->
        <div class="relative" x-data="{ open: false }">
            <button
                @click="open = !open"
                @click.away="open = false"
                class="flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none"
            >
                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                    <i data-lucide="user" class="w-5 h-5 text-white"></i>
                </div>
                <span class="hidden md:block">{{ request.user.username }}</span>
                <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>

            <!-- Dropdown Menu -->
            <div
                x-show="open"
                x-transition:enter="transition ease-out duration-100"
                x-transition:enter-start="transform opacity-0 scale-95"
                x-transition:enter-end="transform opacity-100 scale-100"
                x-transition:leave="transition ease-in duration-75"
                x-transition:leave-start="transform opacity-100 scale-100"
                x-transition:leave-end="transform opacity-0 scale-95"
                class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50"
            >
                <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    <i data-lucide="user-circle" class="w-4 h-4 mr-2"></i>
                    Perfil
                </a>
                <hr class="my-1">
                <a href="{% url 'logout' %}" class="flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50">
                    <i data-lucide="log-out" class="w-4 h-4 mr-2"></i>
                    Cerrar SesiÃ³n
                </a>
            </div>
        </div>
    </div>
</header>

<!-- Messages -->
{% if messages %}
    <div class="px-6 py-4">
        {% for message in messages %}
        <div class="mb-4 p-4 rounded {% if message.tags == 'error' %}bg-red-100 text-red-700{% elif message.tags == 'success' %}bg-green-100 text-green-700{% else %}bg-blue-100 text-blue-700{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
{% endif %}
